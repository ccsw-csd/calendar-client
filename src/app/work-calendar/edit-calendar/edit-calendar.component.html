
<h3 class="mt-2 mb-4">Calendario de {{actualYear}} para el centro de 
    <p-dropdown [options]="centers" [(ngModel)]="selectedCenter" optionLabel="name" (onChange)="changeCenterOrCollective()"></p-dropdown>
    y el colectivo
    <p-dropdown [options]="collectives" [(ngModel)]="selectedCollective" optionLabel="name" (onChange)="changeCenterOrCollective()"></p-dropdown>
</h3>

<div style="display: flex; flex-direction: row;">
    <div id="calendarsDiv" style="display: flex; flex:1; flex-direction: row; flex-wrap: wrap; overflow-y: auto; height: calc(100vh - 190px); gap: 20px; justify-content: space-evenly;">
        <app-component-calendar *ngFor="let month of [0,1,2,3,4,5,6,7,8,9,10,11]" [year]="actualYear" [month]="month" [metadataDay]="selectedCalendar" (clickEvent)="selectDate($event)"></app-component-calendar>
    </div>

    <div style="width: 350px" class="flex flex-column">
        <h3 class="mt-0 text-center">Tipos de horario</h3>

        <div class="ml-5" style="display:flex; flex-direction: column; gap: 5px;">
            <div *ngFor="let type of scheduleTypes" style="align-items: center; height:30px; cursor: pointer; display: flex; flex-direction: row;" (click)="selectType(type)" class="p-4 pl-2 pr-0" [ngClass]="{'selected-type' : type == selectedType}">
                <div style="width: 25px; height: 25px; border-radius: 50%; outline: 1px solid rgba(0, 0, 255, 0.2);" [ngStyle]="{'background-color': type.color}"></div>
                <div class="pl-2 flex-1" style="height: 25px;">{{type.name}}</div>
                <p-button icon="pi pi-pencil" styleClass="p-button-rounded p-button-text"></p-button>
            </div>
        </div>

        <div class="mt-3 text-center">
            <p-button icon="pi pi-plus" styleClass="p-button-outlined" label="Nuevo tipo de horario"></p-button>
        </div>

        <div class="flex-1"></div>

        <h3 class="mt-6 text-center">Detalle del calendario laboral</h3>

        <div class="mb-6 justify-content-center flex flex-row" >
            <div class="w-8rem">Horas laborales:<br/>DÃ­as festivos:</div>
            <div class="w-4rem text-right">{{horasLaborales | number : '1.2-2' : 'es-ES'}}<br/>{{diasFestivos}}</div>
        </div>

        <div class="mt-3 text-center">
            <p-button icon="pi pi-save" styleClass="p-button" label="Guardar"></p-button>
        </div>

    </div>

</div>


<div class="loadWrapper flex align-items-center flex-column justify-content-center" *ngIf="isLoading">
    <p-progressSpinner></p-progressSpinner>
</div>

